using System;
using System.Collections.Generic;

namespace Advent
{
    class Program
    {
        

        public static List<string> map = new List<string>()
                {
                    "...#..............#.#....#..#..",
        "...#..#..#..............#..#...",
        "....#.#.......#............#...",
        "..##.....##.........#........##",
        "...#...........#...##.#...#.##.",
        "..#.#...#....#.....#........#..",
        "....##.###.....#..#.......#....",
        ".#..##...#.....#......#..#.....",
        "............##.#...#.#.....#.#.",
        "..........#....#....#.#...#...#",
        "..##....#.#.#......#.........#.",
        "#.#.........#..............##..",
        "....##.##......................",
        "....##..#...........#..........",
        "..#..#.#........##....#......#.",
        "..............#..#....#.....#..",
        ".............#...#.....#...#...",
        ".#...........#..........#...#..",
        ".#......#.......#......#.......",
        "#..#.............#..#....##.###",
        "........#.#...........##.#...#.",
        "......#..#.....##......#.......",
        ".....#.....#....#..............",
        "#...##.#......#......#...#.....",
        "...........................#...",
        "...#....................#.....#",
        "..#.....#...#.....##.....#.....",
        "....................#......#..#",
        ".......#.....##......##....#...",
        "#........##...#.....##..#...#..",
        "........#..#.#......#..###..#.#",
        "##.....#.............#.#....#..",
        "..#.................#....######",
        ".#.#..#.....#.#..........#.#...",
        ".........#....#...#............",
        "........#..#.....#.............",
        "............#.#.............##.",
        "...#....#..#......#............",
        ".##....#.....#...#.#...........",
        "..#..............#...........##",
        ".....#.#.##...#................",
        "..........#..#.#..........##..#",
        "..#....#...#...#.....######....",
        "....#.#..#........#....#.###...",
        ".......................#.......",
        "..#.....#.##................#..",
        ".....#......#..#.....#........#",
        ".#...###.......#.#.........#..#",
        "............#..................",
        "..#.........##.........##......",
        "#...........#.#.......###.#....",
        ".#...#.....#.........###.....#.",
        ".#............#........#..#....",
        "...##.#......##................",
        "........#...#...#...#..........",
        ".......#.##......##.#..........",
        "....##.......#..#....#....#....",
        "......#.........###........#...",
        "#....#....####....##......#....",
        "......................#....#.#.",
        "...#.#.#....#.#...#...#......#.",
        "......#.....##.#...........###.",
        "#........#.........##......#.#.",
        "....##.....#.....#..#..........",
        "......#...#...#.........#...##.",
        "..#........#..................#",
        ".........#..##.#..#..#...#.#..#",
        ".....#.....#...#.....###.....##",
        ".............#....#...#........",
        "..........#.#.#...#..#...#....#",
        "#...............##.......#.....",
        "#...#.............#..#...#....#",
        "..#...#...##...##...#..#.......",
        "..#..#........#.#...........#..",
        ".....#.....#..................#",
        "....#....##....###..###...##...",
        "..#......###.........##....#.##",
        ".......#.##...#.......#..#.....",
        "...#.#.#.#.....##..#..#........",
        "................##....#.#......",
        "..#...#...#...#.....##.#...#..#",
        "..#..#.....#..##....#....#.....",
        ".###...#......#........#.....##",
        "##......#..#........#..........",
        "....#...#..#....##..#......####",
        ".#.....##....#..........#......",
        ".#...#....#.........#...#....#.",
        ".....#..#.#..#......#..##....#.",
        "...#.##...#...#........#......#",
        ".#..#...#.#..#.........#...#...",
        "#....#......##.....#.......#...",
        "..##............##..#.#.#...#..",
        "##.......#.......##............",
        "#......#.##........#...#...#...",
        ".#.#.......##.........#..#.#...",
        ".............##.#........#.....",
        ".#..#...###...#..#.............",
        ".....#...#..#....#.......#.....",
        "#.#.........#.#.#...#...#.#....",
        ".....#.......#.##.##...#....#..",
        ".#.##..#.....#...#.#.#.#.#..#..",
        "..........#...................#",
        ".....#.#.#...##.........#..#..#",
        ".#..#....##......#...#.........",
        ".##......#......#...#........#.",
        ".....##.#......#............#.#",
        ".#.....##..#...........##......",
        ".....#......#.......##....#....",
        "..#..##..........#.#..........#",
        "#.#.......##..#..##.#....#.....",
        ".......#..#.#.......##......#.#",
        "....#...##...#..............#..",
        ".....#.........#......#...##...",
        "#.........#........##..#.....#.",
        ".#.#..#.....##.......#......#..",
        "........#..#....#.....###..#...",
        "#.#..#.#..........#............",
        "..#......##..#....#.........#..",
        "#..............................",
        ".......#............#..#..#.#..",
        ".#.....#.#....#..#.##.#........",
        ".......#.###.#........##.#..#..",
        "..............#....#.....##.#..",
        "#..............#....#.###......",
        ".#..#..#...###............#...#",
        ".#.##...#....#..#...#...#......",
        "......##..#..#......#..#....#..",
        ".........#.......##............",
        "...........##...#..#....####...",
        ".#..................#..........",
        "#...#..#..................#....",
        "..............#.....##.....#...",
        "..#.#..#...##..#.....#.....#..#",
        "....#....#.#.........#.....#...",
        ".#.......#...#....#...#.#..#..#",
        "#.........##.....##.......#...#",
        "#..#............#....#........#",
        "..........##...#......#....#...",
        ".......#..##...............#...",
        "#............#.#.#.....#.......",
        ".#........##...#...............",
        "..##....#.....#..#.##.#......#.",
        ".#...#.............#...#.....#.",
        "...##....#.......#......#.#..#.",
        "#......................#..#.##.",
        "...#..........#..#.........#...",
        "..#......#.......#.#....#......",
        "....#............#...#......#..",
        ".....#..#..##...#...#.........#",
        ".....#......#....#....#........",
        ".............#..#..........#...",
        "....#..............#.....#.#...",
        "....#.................#.#...#.#",
        ".........#.#...........###.#.##",
        "#...........#..##.#....#.##.#..",
        "#.#.....#......................",
        "##.#.........#....##.#.#..#.#..",
        "#..........#.#.#.#.#..#..##..#.",
        "..#...#..###.........#......#..",
        ".....#......#..#.#............#",
        "...........#...#.#.#.###....#..",
        "#....#..#.......##.#.......##..",
        "..............#.....##.#.......",
        ".#.....#.#..#.........#.#.#..#.",
        "..#..#..#..#................#..",
        "...........#..#.#...#.........#",
        ".#..#..#...#........#...#.#..#.",
        "...#.#..#......#..#............",
        "........#......##.....#....#...",
        "#...#......##.#.#..............",
        ".#........................#....",
        "#.#.....#.##.....#..#.#........",
        "#..........##.#.......#....#..#",
        "#...#..#..#.....#....#....#....",
        "#...........#..#.#....##.##....",
        "##......#..#........#.......##.",
        "#........#..#...#..........#...",
        "...#...#......##....#.#........",
        "...##..#..#.##....#...#........",
        "#.#..#....#...#........#.......",
        "..........#.......#..........#.",
        "......##...#....###...#....#...",
        "........#..#.....#......#......",
        "....#.........##...#..##......#",
        "....#...........#.#..#.#.#.#..#",
        "..#......#..#......#........#.#",
        "#..#....#.....#.............#..",
        "............................#..",
        "#...#.#.....#...#....#....#....",
        "........#...#...#...#...#......",
        ".###........#....#.##.....##.#.",
        ".........#.....#..........#....",
        ".#.........#....##.#.....#.....",
        "#..#....................##.#...",
        "..##.#.............#....#.#....",
        "..#.#........#............##.#.",
        "#........#...##.....#...#.....#",
        ".........#.#..........#....#..#",
        "...###.#..#.#......#.#.....#...",
        "......#.....#..#...#........#..",
        ".......#...#.....#....#....#..#",
        ".#.#........#......##.......#..",
        "#.................###..........",
        "#........#.#..#....#..#........",
        "..##....#.#...##...#...##....#.",
        "...#.#......##...#.....#..#....",
        "#..#........#...###....#.......",
        "##.#....#..#.#..........#......",
        "....#...###...#.....#........#.",
        "..#.#........#....##.#.........",
        "......##.##.................##.",
        ".#....##...#.#..#.#............",
        ".#...###........#......#.......",
        "##..#.#......#..#..#...#.......",
        ".......##..#....#........#....#",
        "......#..........#.............",
        "....##..##..#......#.#.........",
        ".....#....................##...",
        "...###.....#.....#...#.#.##.#..",
        "....#.#..#.......#..#......##..",
        ".......#.#..#.##.#...#......#..",
        "...#.#....#.#...#..##...#...#..",
        "#.##...#....#..#.............#.",
        "...#...#...#.......#..........#",
        ".#..#.............#..##.#......",
        "....#.......#..............#.#.",
        "..................#..#.....##.#",
        ".#...#..#......#..........#...#",
        "..#.#.....#..#....#....#####.#.",
        ".......###.......#....#....#...",
        "......#.#........#...#.........",
        "......#..#.#.#....#.#.#....##..",
        ".#...#.#...##.#......#.........",
        "#....#..##....#.#.......#....#.",
        "..##.#.....#.....#.........#...",
        "......#......#....#....#.....#.",
        "...##.....#....#......#......#.",
        "......#......##............#.#.",
        ".##.#.......#....#...#....#....",
        "....#..#..#...##.......#..#....",
        "....#....#...#.#........#..#...",
        "....#.....#..........#..#......",
        "....#....#...#.....#..##.....#.",
        "##...#..##......#....##..#..#..",
        ".....##.##..............##.....",
        "#.#....#.##..#....#...##.......",
        "..#.....##.....#.....######...#",
        "...#.....#.#.#......#......##.#",
        "...........##.............#....",
        "...##......#..#......#...#.....",
        "....#.##......#..#....#.#..#...",
        ".#..#....#...#..#.....##.......",
        ".....#..#.................#..#.",
        "................#..#...#......#",
        "...##....#.....#..#....##......",
        "....##...............##...#....",
        "......#..........#..##.........",
        ".......###.......#.........#..#",
        "......................#....#.#.",
        "#.#.....#...##............#....",
        "........#......##......#.....#.",
        "...#....#....#.#..##.#..#.#.#..",
        "..#.#....#.##...#..#.....#.#...",
        "............#....#..#.......#..",
        "#...#...#.#......#...##.....#.#",
        "......#....#....#.......#......",
        "....#.......#..........#....#..",
        "........#####........#....#....",
        "......#....##..............#.#.",
        "....#....#.......#.......#.....",
        ".##.#....##....#...............",
        "#.....##........#..#.#...#.#...",
        "...#......##....#..............",
        ".#.....#.....#.......##....##..",
        "#....#..........#.#..#.........",
        "......##..........##.......#...",
        ".##......##.....#.#....#......#",
        "....#......................#...",
        ".#...........###........#...#..",
        "#.#..#..#..#...##.#....#.#..#..",
        "...##...........#.#..........#.",
        "......#.#..#....#....#.........",
        "....#....#.#......#.........##.",
        ".#..#...#...##....#...#......#.",
        "#.#......#...#.#.#...........#.",
        "##.....#..........##....##..##.",
        "...#.#.....#..##........#......",
        "..#........##........#..#......",
        ".......#...............##..#...",
        ".......#.#....#..###...........",
        ".............#........#...#....",
        "#.................#......#..#..",
        "...#....#..#..............#...#",
        ".............#....##....#..##..",
        "#........#..........##...##...#",
        "............#....#.....#.#....#",
        ".....#..............##..#...#..",
        "..#....#......###....#.#...##..",
        "....##......#.....#....#.......",
        ".....#...............#.....#...",
        ".#.....#.....#..............#..",
        "#................#..#..........",
        ".##....#....#.....#............",
        "#.####...#..#..#....#..........",
        "..##........##.....##......#..#",
        "......#.....#...##.........##..",
        "....##..#.....#.#.........#...#",
        ".....##..#....#....#.#...#..#..",
        "...#............#...........#..",
        ".......#.#..#.#.#..#........#.#",
        "....#.#........#.#.#..#...#...#",
        "..#....#....#..#......#........",
        ".#...........................#.",
        ".#..#....####........##......#.",
        ".#.....#..#.#.................#",
        ".#..#...........#...#....#...#.",
        "......##..#........#..#....#...",
        "..#.............#....#........#",
        "#.#..........#.##.......#.#..#.",
        "..#....#...#...............#...",
        "..............#..........#..#..",
        "..#.....#.#.....#...#...#..#...",
        ".........#...###.#...#........#"
                };

        static void Main(string[] args)
        {
            var xDifferentials = new List<int>() { 1, 3, 5, 7 };
            var treesHit = new List<int>();

            foreach (var xDifference in xDifferentials)
            {
                var hit = 0;
                var xCoord = 0;
                foreach (var yStep in map)
                {
                    if (xCoord >= yStep.Length)
                        xCoord = xCoord - yStep.Length;

                    if (yStep[xCoord] == '#')
                        hit++;

                    xCoord += xDifference;
                }
                treesHit.Add(hit);
            }

            var twoYHit = 0;
            var twoXCoord = 0;
            for (int i = 0; i <= map.Count; i++)
            {
                if (i % 2 == 0)
                {
                    if (twoXCoord >= map[i].Length)
                        twoXCoord = twoXCoord - map[i].Length;

                    if (map[i][twoXCoord] == '#')
                        twoYHit++;

                    twoXCoord += 1;
                }
            }
            treesHit.Add(twoYHit);

            var treesHitProduct = 1;
            foreach (var treeHit in treesHit)
            {
                treesHitProduct = treesHitProduct * treeHit;
            }

            Console.WriteLine("Product: " + treesHitProduct);
        }

        
    }
}
